<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>plot.utf8</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="background.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="final_report.html">
    <span class="fa fa-newspaper fa-lg"></span>
     
    Project report
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://chenmo.shinyapps.io/Interactive_map/">
    <span class="fa fa-quidditch fa-lg"></span>
     
    Fantastic interactive plots
  </a>
</li>
<li>
  <a href="plot.html">
    <span class="fa fa-drafting-compass fa-lg"></span>
     
    fascinating gif plots
  </a>
</li>
<li>
  <a href="regression.html">
    <span class="fa fa-calculator fa-lg"></span>
     
    rigorous regression
  </a>
</li>
<li>
  <a href="https://github.com/cm4047/p8105_final_project.git/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<div id="college-attendance-rate-over-time" class="section level1">
<h1>College attendance rate over time</h1>
<p>The line chart shows the overall trend of college attendance rate of USA from 2008 to 2018. The college attendance rate was mainly increasing while it experienced two declines, one in 2009 and the other in 2016. In 2010, the overall college attendance rate saw its biggest growth.</p>
<pre class="r"><code>library(tidyverse)
library(plotly)
library(gganimate)
library(gifski)
data_cleaned &lt;- read.csv(&quot;./data/cleaned.csv&quot;)

rate_year &lt;- data_cleaned %&gt;%
        group_by(year) %&gt;%
        summarize(rate = length(which(college_attendance_status==&quot;Yes&quot;))/n())

pyear = ggplot(rate_year, aes(x=year, y=rate)) +
        geom_line() +
        geom_point() +
        labs(title = &quot;Trend Over Time&quot;, x=&quot;Year&quot;, y= &quot;College Attendence Rate&quot;) +
        scale_x_continuous(breaks = seq(2008, 2018, 2)) +
        transition_reveal(year)
animate(pyear, duration = 5, fps = 20, width = 400, height = 400, renderer = gifski_renderer())</code></pre>
<p><img src="plot_files/figure-html/rate-year-1.gif" /><!-- --></p>
</div>
<div id="college-attendance-rate-by-metropolitan" class="section level1">
<h1>College attendance rate by Metropolitan</h1>
<p>The chart shows college attendance rate from 2008-2018, by metropolitan status. People in metropolitan and central city had the highest college attendance rate, while people not in metropolitan area had the lowest college attendance rate.</p>
<pre class="r"><code>rate_city &lt;- data_cleaned %&gt;%
        group_by(year, metropolitan_status) %&gt;%
        summarize(rate = length(which(college_attendance_status==&quot;Yes&quot;))/n())
        # pivot_wider(names_from =metropolitan_status, values_from = rate)

pcity = ggplot(rate_city, aes(x=year, y=rate, color = metropolitan_status)) +
        geom_line() +
        geom_point() +
        scale_x_continuous(breaks = seq(2008, 2018, 2)) + 
        labs(title = &quot;Trend Over Time by Metropolitan&quot;, x=&quot;Year&quot;, y= &quot;College Attendence Rate&quot;) +
        transition_reveal(year)
animate(pcity, duration = 5, fps = 20, width = 600, height = 400, renderer = gifski_renderer())</code></pre>
<p><img src="plot_files/figure-html/byCity-1.gif" /><!-- --></p>
<pre class="r"><code># plot_ly(rate_city, x=~year, y=~`in metropolitan and central city`, name = &quot;in metropolitan and central city&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`in metropolitian but mixed of central city`, name = &quot;in metropolitian but mixed of central city&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`in metropolitian but not in central city`, name = &quot;in metropolitian but not in central city&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`mixed of metropolitian status`, name = &quot;mixed of metropolitian status&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`Not in metropolitan area`, name = &quot;Not in metropolitan area&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;)# plot_ly(rate_city, x=~year, y=~`in metropolitan and central city`, name = &quot;in metropolitan and central city&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`in metropolitian but mixed of central city`, name = &quot;in metropolitian but mixed of central city&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`in metropolitian but not in central city`, name = &quot;in metropolitian but not in central city&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`mixed of metropolitian status`, name = &quot;mixed of metropolitian status&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`Not in metropolitan area`, name = &quot;Not in metropolitan area&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;)</code></pre>
</div>
<div id="college-attendance-rate-by-state" class="section level1">
<h1>College attendance rate by State</h1>
<p>The chart shows the changes of the ranking of different states across time. Generally, the top 5 states with the highest college attendance rate were DC, NJ, CT, MA and VT, all higher than 0.5.The top 5 states with the lowest college attendance rate were AK, OK, NV, LA and AZ, all lower than 0.38.</p>
<pre class="r"><code>rate_state &lt;- data_cleaned %&gt;%
        group_by(year, states) %&gt;%
        summarize(rate = length(which(college_attendance_status==&quot;Yes&quot;))/n()) %&gt;%
        mutate(rank = min_rank(-rate)) %&gt;%
        ungroup()
        # pivot_wider(names_from =metropolitan_status, values_from = rate)

pstate &lt;-ggplot(rate_state,aes(rank,group=states,fill=as.factor(states),color=as.factor(states))) +
 geom_tile(aes(y = rate/2,height = rate, width = 0.9), alpha = 0.8, color = NA) +
 geom_text(aes(y = 0, label = paste(states, &#39; &#39;)), vjust = 0.2, hjust = 1) +
 geom_text(aes(y=rate,label = paste(&#39; &#39;,rate)), hjust=0)+
 coord_flip(clip = &#39;off&#39;, expand = TRUE) +
 scale_y_continuous(labels = scales::comma) +
 scale_x_reverse() +
 guides(color = FALSE, fill = FALSE) +
 theme_minimal() +
 theme(
 plot.title=element_text(size=25, hjust=0.5, face=&#39;bold&#39;, colour=&#39;grey&#39;, vjust=-1),
 plot.subtitle=element_text(size=18, hjust=0.5, face=&#39;italic&#39;, color=&#39;grey&#39;),
 plot.caption =element_text(size=8, hjust=0.5, face=&#39;italic&#39;, color=&#39;grey&#39;),
 axis.ticks.y = element_blank(), 
 axis.text.y = element_blank(), 
 plot.margin = margin(1,1,1,4, &#39;cm&#39;)
 )


pstate &lt;- pstate + transition_states(states = year, transition_length = 4, state_length = 1) + 
 ease_aes(&#39;cubic-in-out&#39;) +
 labs(title = &#39;College Attendance Rate per Year : {closest_state}&#39;, 
 x=&#39;&#39;,y=&#39;Total Suicides per year&#39;)

animate(pstate,fps = 20,duration = 30, width = 950, height = 750, renderer = gifski_renderer())</code></pre>
<p><img src="plot_files/figure-html/byState-1.gif" /><!-- --></p>
<pre class="r"><code># 
# pstate = ggplot(rate_state, aes(x=rank, y=rate, color = states)) +
#         geom_tile(aes(y = rank, height = rate, width = .9, color = NA))+
#         geom_text(aes(y = 0, label = paste(states, &#39; &#39;)), vjust = 0.2, hjust = 1) +
#  geom_text(aes(y=rate,label = paste(&#39; &#39;,rate)), hjust=0)+
#         coord_flip(clip = &#39;off&#39;, expand = TRUE) +
#         scale_y_continuous(labels = scales::comma) + 
#         scale_x_reverse() +
#         guides(color = FALSE, fill = FALSE) +
#         labs(title = &quot;College Attendance Rate by State&quot;, y=&quot;Year&quot;, x= &quot;College Attendence Rate&quot;)
#         transition_reveal(year)
#         
# pstate</code></pre>
</div>
<div id="college-attendance-rate-by-income" class="section level1">
<h1>College attendance rate by Income</h1>
<p>The chart shows college attendance rate from 2008-2018, by income. High income families have the highest college attendance rate until 2015, when low income families surpassed them. Families with middle income had lowest college attendance rate during the whole time period and was the main reason the overall college attendance rate dropped in 2016.</p>
<pre class="r"><code>data_omitna &lt;- na.omit(data_cleaned)
rate_income &lt;-  data_omitna%&gt;%
                mutate(income = car::recode(`anually_family_income`, &quot;lo:20000 = &#39;low&#39;;94500:hi=&#39;high&#39;;else = &#39;middle&#39;&quot;)) %&gt;%
        # mutate(income = car::recode(`anually_family_income`, &quot;lo:median(data_omitna$anually_family_income)*0.3 = &#39;low&#39;;median(data_omitna$anually_family_income)*2:hi=&#39;high&#39;;else = &#39;middle&#39;&quot;)) %&gt;%
        group_by(year, income) %&gt;%
        summarize(rate = length(which(college_attendance_status==&quot;Yes&quot;))/n())
        # pivot_wider(names_from =income, values_from = rate)

pincome = ggplot(rate_income, aes(x=year, y=rate, color = income)) +
        geom_line() +
        geom_point() +
        scale_x_continuous(breaks = seq(2008, 2018, 2)) + 
        labs(title = &quot;Trend Over Time by Income&quot;, x=&quot;Year&quot;, y= &quot;College Attendence Rate&quot;) +
        transition_reveal(year)
animate(pincome, duration = 5, fps = 20, width = 600, height = 400, renderer = gifski_renderer())</code></pre>
<p><img src="plot_files/figure-html/byIncome-1.gif" /><!-- --></p>
<pre class="r"><code># plot_ly(rate_income, x=~year, y=~`high`, name = &quot;high income&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`middle`, name = &quot;middle income&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`low`, name = &quot;low income&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;)</code></pre>
</div>
<div id="college-attendance-rate-by-race" class="section level1">
<h1>College attendance rate by Race</h1>
<p>The chart shows college attendance rate from 2008-2018, by race. Generally, Chinese had the highest college attendance rate, followed by other Asian or Pacific islanders and white people. American Indian of Alaska native had the lowest college attendance rate. The college attendance rate of Japanese increased rapidly before 2012 and had a dramatic drop in 2017.</p>
<pre class="r"><code>rate_race &lt;- data_cleaned %&gt;%
        group_by(year, race) %&gt;%
        summarize(rate = length(which(college_attendance_status==&quot;Yes&quot;))/n())
        # pivot_wider(names_from =race, values_from = rate)

prace = ggplot(rate_race, aes(x=year, y=rate, color = race)) +
        geom_line() +
        geom_point() +
        scale_x_continuous(breaks = seq(2008, 2018, 2)) + 
        labs(title = &quot;Trend Over Time by Race&quot;, x=&quot;Year&quot;, y= &quot;College Attendence Rate&quot;) +
        transition_reveal(year)
animate(prace, duration = 5, fps = 20, width = 600, height = 400, renderer = gifski_renderer())</code></pre>
<p><img src="plot_files/figure-html/byRace-1.gif" /><!-- --></p>
<pre class="r"><code># plot_ly(rate_race, x=~year, y=~`White`, name = &quot;White&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`African American`, name = &quot;African American&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`American Indian or Alaska Native`, name = &quot;American Indian or Alaska Native&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`Other Asian or Pacific Islander`, name = &quot;Other Asian or Pacific Islander&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`Chinese`, name = &quot;Chinese&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`Japanese`, name = &quot;Japanese&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`Others`, name = &quot;others&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;)</code></pre>
</div>
<div id="college-attendance-rate-by-number-of-children" class="section level1">
<h1>College attendance rate by Number Of Children</h1>
<p>The chart shows college attendance rate from 2008-2018, by the number of children in the family. Generally, the more children in the family, the lower the college attendance rate.</p>
<pre class="r"><code> rate_noc &lt;-  data_omitna%&gt;%
                mutate(noc = car::recode(`number_of_children`, &quot;0 = &#39;0&#39;; 1:2 = &#39;1-2&#39;;3:hi=&#39;3+&#39;&quot;)) %&gt;%
        group_by(year, noc) %&gt;%
        summarize(rate = length(which(college_attendance_status==&quot;Yes&quot;))/n())
        # pivot_wider(names_from =noc, values_from = rate)

pnoc = ggplot(rate_noc, aes(x=year, y=rate, color = noc)) +
        geom_line() +
        geom_point() +
        scale_x_continuous(breaks = seq(2008, 2018, 2)) + 
        labs(title = &quot;Trend Over Time by Number of Children&quot;, x=&quot;Year&quot;, y= &quot;College Attendence Rate&quot;) +
        transition_reveal(year)
animate(pnoc, duration = 5, fps = 20, width = 600, height = 400, renderer = gifski_renderer())</code></pre>
<p><img src="plot_files/figure-html/byNumberOfChildren-1.gif" /><!-- --></p>
<pre class="r"><code># plot_ly(rate_noc, x=~year, y=~`0`, name = &quot;0 children&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`1-2`, name = &quot;1-2 children&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`3+`, name = &quot;3+ children&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;)
# rate_noc$frame = rate_noc$year
# plot_ly(rate_noc, x = ~year, y = ~rate, split = ~noc, frame = ~frame, type = &#39;scatter&#39;, mode = &#39;lines&#39;, line = list(simplyfy = F)) 
        # animation_opts(frame = 100, transition = 0, redraw = FALSE) %&gt;%
        # animation_slider(hide = T) %&gt;% 
        # animation_button(x = 1, xanchor = &quot;right&quot;, y = 0, yanchor = &quot;bottom&quot;)</code></pre>
</div>
<div id="college-attendance-rate-by-type-of-school" class="section level1">
<h1>College attendance rate by Type Of School</h1>
<p>The chart shows proportion of different type of school across people with different incomes from 2008 to 2018. High income people had relatively higher percentage of entering private school and relatively lower rate of non-enrollment among all people.</p>
<pre class="r"><code>n_school &lt;- data_omitna %&gt;%
        mutate(income = car::recode(`anually_family_income`, &quot;lo:20000 = &#39;low&#39;;94500:hi=&#39;high&#39;;else = &#39;middle&#39;&quot;),
               income = factor(income, levels = c(&quot;low&quot;,&quot;middle&quot;,&quot;high&quot;)))
school_incomee = 
        n_school %&gt;% 
        group_by(year, income) %&gt;%
        summarize(income_group = n()) 
school_typee = 
        n_school %&gt;% 
        group_by(year, income, school_type) %&gt;% 
        summarize(number = n()) %&gt;% 
        left_join(school_incomee, by = c(&quot;year&quot;,&quot;income&quot;)) %&gt;% 
        mutate(percentage = 100*number/income_group)
plot_ly(school_typee, x=~year, y = ~percentage, color = ~school_type, frame = ~income, type = &quot;scatter&quot;, mode = &quot;line&quot;)</code></pre>
<div id="htmlwidget-ba32e0541469b5ed4906" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ba32e0541469b5ed4906">{"x":{"visdat":{"9d7404a3de6":["function () ","plotlyVisDat"]},"cur_data":"9d7404a3de6","attrs":{"9d7404a3de6":{"x":{},"y":{},"mode":"line","color":{},"frame":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"year","range":[2007.5,2018.5]},"yaxis":{"domain":[0,1],"automargin":true,"title":"percentage","range":[2.45169968207386,62.5764245536806]},"hovermode":"closest","showlegend":true,"sliders":[{"currentvalue":{"prefix":"income: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["low"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"low","value":"low"},{"method":"animate","args":[["middle"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"middle","value":"middle"},{"method":"animate","args":[["high"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"high","value":"high"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":false}}]}]}]},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[49.4758064516129,51.7406962785114,51.7633674630262,51.3483146067416,50.2601040416166,50.2783725910064,51.018711018711,49.9770747363595,50.3153808830665,47.4986835176409,47.2936030617824],"mode":"line","frame":"low","type":"scatter","name":"Not enrolled","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[9.55645161290323,9.60384153661465,8.6841107318923,7.52808988764045,9.12364945978391,8.13704496788008,9.3970893970894,8.71160018340211,9.94662785055798,10.5318588730911,12.0831055221432],"mode":"line","frame":"low","type":"scatter","name":"Private school","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[40.9677419354839,38.6554621848739,39.5525218050815,41.123595505618,40.6162464985994,41.5845824411135,39.5841995841996,41.3113250802384,39.7379912663755,41.969457609268,40.6232914160744],"mode":"line","frame":"low","type":"scatter","name":"Public school","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"low","data":[{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[49.4758064516129,51.7406962785114,51.7633674630262,51.3483146067416,50.2601040416166,50.2783725910064,51.018711018711,49.9770747363595,50.3153808830665,47.4986835176409,47.2936030617824],"mode":"line","frame":"low","type":"scatter","name":"Not enrolled","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[9.55645161290323,9.60384153661465,8.6841107318923,7.52808988764045,9.12364945978391,8.13704496788008,9.3970893970894,8.71160018340211,9.94662785055798,10.5318588730911,12.0831055221432],"mode":"line","frame":"low","type":"scatter","name":"Private school","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[40.9677419354839,38.6554621848739,39.5525218050815,41.123595505618,40.6162464985994,41.5845824411135,39.5841995841996,41.3113250802384,39.7379912663755,41.969457609268,40.6232914160744],"mode":"line","frame":"low","type":"scatter","name":"Public school","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2]},{"name":"middle","data":[{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[56.7374479063306,56.982496194825,55.4744525547445,54.6966098034982,55.7550843790567,55.8635863586359,58.7276431967399,58.3277442432372,57.6162097735399,57.0871894788115,59.8434825140621],"mode":"line","frame":"middle","type":"scatter","name":"Not enrolled","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[6.72752530263941,6.58295281582953,6.30042258932002,6.71561217879508,5.88489831241887,6.68866886688669,6.11274620783337,5.41023921305611,7.03218116805721,5.89381393083293,5.18464172169235],"mode":"line","frame":"middle","type":"scatter","name":"Private school","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[36.53502679103,36.4345509893455,38.2251248559355,38.5877780177068,38.3600173085244,37.4477447744774,35.1596105954268,36.2620165437067,35.3516090584029,37.0189965903556,34.9718757642455],"mode":"line","frame":"middle","type":"scatter","name":"Public school","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2]},{"name":"high","data":[{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[38.6569091691778,38.0439868975199,36.9257950530035,40.3884462151394,39.6182495344507,44.7380206000896,42.0303169499311,44.062106588334,42.1117502054232,44.1768653770233,45.0757575757576],"mode":"line","frame":"high","type":"scatter","name":"Not enrolled","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[12.3116659492036,13.4300421151146,11.7049469964664,13.0478087649402,11.9180633147114,10.1656963725929,11.1162149747359,9.98741082668905,11.6269515201315,9.4749309119621,10.4545454545455],"mode":"line","frame":"high","type":"scatter","name":"Private school","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[49.0314248816186,48.5259709873655,51.36925795053,46.5637450199203,48.463687150838,45.0962830273175,46.853468075333,45.9504825849769,46.2612982744454,46.3482037110146,44.469696969697],"mode":"line","frame":"high","type":"scatter","name":"Public school","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code># plot_ly(rate_school, x=~year, y=~`Private school`, name = &quot;Private school&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`Public school`, name = &quot;Public school&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;) %&gt;%
#         add_trace(y=~`Not enrolled`, name = &quot;Not enrolled&quot;, type = &quot;scatter&quot;, mode = &quot;line&quot;)</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
